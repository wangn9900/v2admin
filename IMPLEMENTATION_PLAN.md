# V2Board Admin - Flutter ä¸‰ç«¯ç®¡ç†å‘˜åº”ç”¨å®ç°è®¡åˆ’

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: V2Board Admin  
**ç›®æ ‡å¹³å°**: Android / iOS / Windows / macOS / Linux  
**æŠ€æœ¯æ ˆ**: Flutter 3.x + Dart  
**UI é£æ ¼**: è‡ªå®šä¹‰ç°ä»£é£æ ¼ï¼ˆæ·±è‰²ä¸»é¢˜ä¸ºä¸»ï¼Œæ”¯æŒæµ…è‰²æ¨¡å¼ï¼‰

---

## ğŸ¯ åŠŸèƒ½æ¨¡å—è§„åˆ’

### ç¬¬ä¸€é˜¶æ®µ (MVP)
- [x] é¡¹ç›®åˆå§‹åŒ–ä¸æ¶æ„æ­å»º
- [ ] ç™»å½•æ¨¡å— - ç®¡ç†å‘˜èº«ä»½éªŒè¯
- [ ] ä»ªè¡¨ç›˜ - ç³»ç»Ÿæ¦‚è§ˆã€æ ¸å¿ƒç»Ÿè®¡æ•°æ®
- [ ] ç”¨æˆ·ç®¡ç† - åˆ—è¡¨ã€æœç´¢ã€ç¼–è¾‘ã€å°ç¦
- [ ] è®¢å•ç®¡ç† - åˆ—è¡¨ã€ç¡®è®¤ä»˜æ¬¾ã€å–æ¶ˆ

### ç¬¬äºŒé˜¶æ®µ
- [ ] æœåŠ¡å™¨ç®¡ç† - èŠ‚ç‚¹åˆ—è¡¨ã€çŠ¶æ€ç›‘æ§
- [ ] å·¥å•ç³»ç»Ÿ - æŸ¥çœ‹ã€å›å¤ã€å…³é—­
- [ ] å…¬å‘Šç³»ç»Ÿ - å‘å¸ƒã€ç¼–è¾‘ã€åˆ é™¤

### ç¬¬ä¸‰é˜¶æ®µ
- [ ] å¥—é¤ç®¡ç† - CRUD æ“ä½œ
- [ ] ä¼˜æƒ åˆ¸ç®¡ç† - ç”Ÿæˆã€ç®¡ç†
- [ ] ç³»ç»Ÿè®¾ç½® - åŸºç¡€é…ç½®

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç›®å½•ç»“æ„
```
lib/
â”œâ”€â”€ main.dart                    # åº”ç”¨å…¥å£
â”œâ”€â”€ app.dart                     # App é…ç½®
â”œâ”€â”€ core/                        # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ constants/               # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ theme/                   # ä¸»é¢˜é…ç½®
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·ç±»
â”‚   â””â”€â”€ extensions/              # æ‰©å±•æ–¹æ³•
â”œâ”€â”€ data/                        # æ•°æ®å±‚
â”‚   â”œâ”€â”€ models/                  # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ repositories/            # æ•°æ®ä»“åº“
â”‚   â””â”€â”€ services/                # API æœåŠ¡
â”œâ”€â”€ features/                    # åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ auth/                    # è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ dashboard/               # ä»ªè¡¨ç›˜
â”‚   â”œâ”€â”€ users/                   # ç”¨æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ orders/                  # è®¢å•ç®¡ç†
â”‚   â”œâ”€â”€ servers/                 # æœåŠ¡å™¨ç®¡ç†
â”‚   â”œâ”€â”€ tickets/                 # å·¥å•ç³»ç»Ÿ
â”‚   â””â”€â”€ settings/                # ç³»ç»Ÿè®¾ç½®
â”œâ”€â”€ shared/                      # å…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ widgets/                 # é€šç”¨ç»„ä»¶
â”‚   â””â”€â”€ layouts/                 # å¸ƒå±€ç»„ä»¶
â””â”€â”€ router/                      # è·¯ç”±é…ç½®
```

### çŠ¶æ€ç®¡ç†
- **Provider** + **Riverpod** (è½»é‡é«˜æ•ˆ)

### ç½‘ç»œè¯·æ±‚
- **Dio** (HTTP å®¢æˆ·ç«¯)
- **JSON Serialization** (æ•°æ®è§£æ)

### æœ¬åœ°å­˜å‚¨
- **shared_preferences** (ç®€å• KV å­˜å‚¨)
- **flutter_secure_storage** (å®‰å…¨å­˜å‚¨ token)

---

## ğŸ¨ UI è®¾è®¡è§„èŒƒ

### é…è‰²æ–¹æ¡ˆ (ç°ä»£æ·±è‰²ä¸»é¢˜)
```dart
// ä¸»è‰²è°ƒ
primary: Color(0xFF6366F1)      // é›è“ç´«
primaryLight: Color(0xFF818CF8)
primaryDark: Color(0xFF4F46E5)

// èƒŒæ™¯è‰²
background: Color(0xFF0F0F23)    // æ·±é‚ƒé»‘
surface: Color(0xFF1A1A2E)       // å¡ç‰‡èƒŒæ™¯
surfaceVariant: Color(0xFF252542) // æ¬¡çº§è¡¨é¢

// å¼ºè°ƒè‰²
accent: Color(0xFF22D3EE)        // é’è‰²
success: Color(0xFF10B981)       // ç»¿è‰²
warning: Color(0xFFF59E0B)       // æ©™è‰²
error: Color(0xFFEF4444)         // çº¢è‰²

// æ–‡å­—è‰²
textPrimary: Color(0xFFFFFFFF)
textSecondary: Color(0xFFA1A1AA)
textMuted: Color(0xFF71717A)
```

### è®¾è®¡ç‰¹ç‚¹
- ç»ç’ƒæ‹Ÿæ€ (Glassmorphism) æ•ˆæœ
- æ¸å˜è‰²æŒ‰é’®å’Œè£…é¥°
- å¹³æ»‘åŠ¨ç”»è¿‡æ¸¡
- å“åº”å¼å¸ƒå±€ï¼ˆé€‚é…æ‰‹æœº/å¹³æ¿/æ¡Œé¢ï¼‰
- åœ†è§’å¡ç‰‡è®¾è®¡

---

## ğŸ“¡ API å¯¹æ¥

### Base URL é…ç½®
- æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰æœåŠ¡å™¨åœ°å€
- è‡ªåŠ¨è®°ä½ä¸Šæ¬¡ä½¿ç”¨çš„åœ°å€

### è®¤è¯æµç¨‹
1. POST `/passport/auth/login` (email + password)
2. éªŒè¯è¿”å›çš„ `is_admin === 1`
3. å­˜å‚¨ `auth_data` (JWT token)
4. åç»­è¯·æ±‚æºå¸¦ `Authorization` header

### ä¸»è¦ API ç«¯ç‚¹
| åŠŸèƒ½ | æ–¹æ³• | è·¯å¾„ |
|------|------|------|
| ç™»å½• | POST | `/passport/auth/login` |
| ç”¨æˆ·ä¿¡æ¯ | GET | `/user/info` |
| ç”¨æˆ·åˆ—è¡¨ | GET | `/{secure_path}/user/fetch` |
| ç”¨æˆ·æ›´æ–° | POST | `/{secure_path}/user/update` |
| è®¢å•åˆ—è¡¨ | GET | `/{secure_path}/order/fetch` |
| è®¢å•è¯¦æƒ… | POST | `/{secure_path}/order/detail` |
| ç»Ÿè®¡æ¦‚è§ˆ | GET | `/{secure_path}/stat/getOverride` |
| ç³»ç»ŸçŠ¶æ€ | GET | `/{secure_path}/system/getSystemStatus` |

---

## ğŸ“… å¼€å‘è®¡åˆ’

### Day 1-2: é¡¹ç›®åŸºç¡€
- [x] åˆ›å»º Flutter é¡¹ç›®
- [ ] é…ç½®ä¾èµ–åŒ…
- [ ] æ­å»ºç›®å½•ç»“æ„
- [ ] å®ç°ä¸»é¢˜ç³»ç»Ÿ
- [ ] åˆ›å»ºåŸºç¡€ç»„ä»¶

### Day 3-4: è®¤è¯æ¨¡å—
- [ ] ç™»å½•é¡µé¢ UI
- [ ] API æœåŠ¡å°è£…
- [ ] Token ç®¡ç†
- [ ] è·¯ç”±å®ˆå«

### Day 5-7: æ ¸å¿ƒåŠŸèƒ½
- [ ] ä»ªè¡¨ç›˜é¡µé¢
- [ ] ç”¨æˆ·ç®¡ç†æ¨¡å—
- [ ] è®¢å•ç®¡ç†æ¨¡å—

### Day 8-10: å®Œå–„ä¸ä¼˜åŒ–
- [ ] å“åº”å¼å¸ƒå±€é€‚é…
- [ ] åŠ¨ç”»æ•ˆæœ
- [ ] é”™è¯¯å¤„ç†
- [ ] å¹³å°ç‰¹å®šä¼˜åŒ–

---

## ğŸš€ æ„å»ºä¸å‘å¸ƒ

### Android
```bash
flutter build apk --release
flutter build appbundle --release
```

### iOS
```bash
flutter build ios --release
```

### Windows
```bash
flutter build windows --release
```

### macOS
```bash
flutter build macos --release
```

### Linux
```bash
flutter build linux --release
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å®‰å…¨è·¯å¾„ (secure_path)**: V2Board ç®¡ç†å‘˜ API ä½¿ç”¨åŠ¨æ€å®‰å…¨è·¯å¾„ï¼Œéœ€è¦ç”¨æˆ·é…ç½®
2. **è·¨åŸŸé—®é¢˜**: æ¡Œé¢ç«¯éœ€è¦é…ç½® CORSï¼Œæˆ–ä½¿ç”¨ä»£ç†
3. **å¹³å°å·®å¼‚**: é’ˆå¯¹ä¸åŒå¹³å°ä¼˜åŒ–çª—å£å¤§å°å’Œäº¤äº’æ–¹å¼
4. **å›½é™…åŒ–**: é¢„ç•™å¤šè¯­è¨€æ”¯æŒæ¶æ„

---

*æœ€åæ›´æ–°: 2024-12-10*
